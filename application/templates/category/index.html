
{% extends "base.html" %}
{% block tail_script %}
<!-- 	Fixie -->
	<script type="text/javascript" src="https://raw.github.com/rthprog/fixie/master/fixie_min.js"></script>
	
<!-- 	Custom -->
	<script src="/static/js/main.js"></script>
	<!-- Dependent on main (not modular, but hardcoded) -->
	<script src="/static/js/dragger.js"></script>
	
	{% if admin %}
	<!-- TODO WYSIWYG editor -->
<!-- 		<script type="text/javascript" src="/static/js/lib/css3-jrte.jquery.js"></script> -->
<!-- 		<script type="text/javascript" src="/static/js/lib/css3-select.jquery.js"></script> -->
	{% endif %}
{% endblock %}

{% block style_block %}
{% endblock %}

{% block content %}
<div class="post-container" id="post-container">
	<div class="progress progress-striped active" id="loader">
    	<div class="bar" style="width: 100%;"></div>
    </div>
	<div class="posts">
		{% for content in contents %} 
			{% if content.image_blob_key %}
				<div class="post image-post well" id="post{{ i }}">
					<div class="img-info">
						<h2>{{ content.title }}</h2>
						<article>{{ content.description }}</article >
					</div>
					<img src="/blob/{{ content.image_blob_key }}" style="width: {{ content.width }}px; height: {{ content.height }}px;"/>
				</div>
			{% else %}
				<div class="post text-post well" id="post{{ i }}">
					<h2>{{ content.title }}</h2>
					<article>{{ content.description|safe }}</article >
				</div>
			{% endif %}
		{% endfor %}
	</div>
</div>
<div class="pagination">
	<ul>
		<li><a href="#" onclick="return gotoPrevPost();">Prev</a></li>
			{% for i in range(0, 10) %}
		<li><a href="#post{{i}}" onclick="return gotoPost({{ i }});">{{ i }}</a></li>
			{% endfor %}		
    	<li><a href="#" onclick="return gotoNextPost();">Next</a></li>
	</ul>
</div>
{% endblock %}

